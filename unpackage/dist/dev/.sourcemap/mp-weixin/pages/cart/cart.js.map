{"version":3,"sources":["webpack:///E:/G/项目/千年国医/qiannianApp/main.js","webpack:///E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue?4fdc","webpack:///E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue?4840","webpack:///E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue?c963","webpack:///E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue?fce2","webpack:///E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue","webpack:///E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue?fcf1","webpack:///E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue?123d"],"names":["createPage","Page","that","data","total","allChecked","empty","cartList","list","allprint","zprice","nolist","modal","delid","access_token","mch_list","StatusBar","CustomBar","mData","showModel","type","cart_id_list","computed","style","methods","BackPage","uni","navigateBack","delta","tpinfo","e","console","log","navigateTo","url","currentTarget","dataset","id","check","index","checked","forEach","item","calcTotal","cancel","showModal","i","push","cart_id","length","title","content","confirmText","cancelText","confirmColor","$alert","deleteCartItem","$request","request","api","cart","delete","then","res","$alertok","splice","findex","cartCheckAll","comput","listtype","num","comp","getlist","cartCheck","mchindex","mchcartCheck","$forceUpdate","t","Number","price","toFixed","unitPrice","buy","edgoodslist","edmch","goodsidlist","edmch_list","ptlist","mch_id","goods_list","mchlist","delist","name","cart_edit","JSON","stringify","method","order","new_submit_preview","setStorageSync","onLoad","onShow","getStorageSync"],"mappings":"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","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=2f6e41af&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/G/项目/千年国医/qiannianApp/pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=template&id=2f6e41af&\"","var components = {\n  \"chunLei-modal\": () =>\n    import(\n      /* webpackChunkName: \"components/chunLei-modal/chunLei-modal\" */ \"@/components/chunLei-modal/chunLei-modal.vue\"\n    )\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nvar that;\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttotal: 0, //总价格\r\n\t\t\tallChecked: false, //全选状态  true|false\r\n\t\t\tempty: false, //空白页现实  true|false\r\n\t\t\tcartList: [],\r\n\t\t\tlist: [],\r\n\t\t\tallprint: false,\r\n\t\t\tzprice: 0,\r\n\t\t\tnolist: false,\r\n\t\t\tmodal: false,\r\n\t\t\tdelid: '',\r\n\t\t\taccess_token: '',\r\n\t\t\tmch_list: [],\r\n\t\t\tStatusBar: this.StatusBar,\r\n\t\t\tCustomBar: this.CustomBar,\r\n\t\t\tmData: {},\r\n\t\t\tshowModel: false,\r\n\t\t\ttype: 'default',\r\n\t\t\tcart_id_list: []\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle() {\r\n\t\t\tvar StatusBar = this.StatusBar;\r\n\t\t\tvar CustomBar = this.CustomBar;\r\n\t\t\tvar style = `height:${CustomBar}px;padding-top:${StatusBar}px;`;\r\n\t\t\treturn style;\r\n\t\t}\r\n\t},\r\n\tmethods: { \r\n\t\tBackPage(){ \r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta:1\r\n\t\t\t})\r\n\t\t},  \r\n\t\ttpinfo(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/goods/goodsinfo/goodsinfo?gid=' + e.currentTarget.dataset.id\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\t//选中状态处理\r\n\t\tcheck(type, index) {\r\n\t\t\tif (type === 'item') {\r\n\t\t\t\tthis.cartList[index].checked = !this.cartList[index].checked;\r\n\t\t\t} else {\r\n\t\t\t\tconst checked = !this.allChecked;\r\n\t\t\t\tconst list = this.cartList;\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\titem.checked = checked;\r\n\t\t\t\t});\r\n\t\t\t\tthis.allChecked = checked;\r\n\t\t\t}\r\n\t\t\tthis.calcTotal(type);\r\n\t\t},\r\n\t\tcancel() {},\r\n\t\tshowModal() {\r\n\t\t\tvar list = that.list;\r\n\t\t\tvar cart_id_list = [];\r\n\t\t\tfor (let i in list) {\r\n\t\t\t\tif (list[i]['checked']) {\r\n\t\t\t\t\tcart_id_list.push(list[i].cart_id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (cart_id_list.length > 0) {\r\n\t\t\t\tthat.mData = { title: '提示', content: '确定要删除所选商品吗？', confirmText: '确定', cancelText: '取消', confirmColor: '#3CC51F' };\r\n\t\t\t\tthat.showModel = true;\r\n\t\t\t\tthat.cart_id_list = cart_id_list;\r\n\t\t\t} else {\r\n\t\t\t\tthat.$alert('请选择商品');\r\n\t\t\t}\r\n\t\t},\r\n\t\t//删除\r\n\t\tdeleteCartItem(e) {\r\n\t\t\tconsole.log(\"啊士大：\",that.cart_id_list);\r\n\t\t\tthat.$request\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: that.api.cart.delete,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcart_id_list: that.cart_id_list\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthat.$alertok('删除成功');\r\n\t\t\t\t\tif (e.currentTarget.dataset.type == 'list') {\r\n\t\t\t\t\t\tthat.list.splice(e.currentTarget.dataset.index, 1);\r\n\t\t\t\t\t} else if (e.currentTarget.dataset.type == 'mch') {\r\n\t\t\t\t\t\tlet findex = e.currentTarget.dataset.findex;\r\n\t\t\t\t\t\tlet index = e.currentTarget.dataset.index;\r\n\t\t\t\t\t\tthat.mch_list[findex].list.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (that.allprint) {\r\n\t\t\t\t\t\tthat.cartCheckAll();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (let i in that.list) {\r\n\t\t\t\t\t\t\tthat.list[i].checked = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.calcTotal();\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 增加数量\r\n\t\tcomput(e) {\r\n\t\t\tvar type = e.currentTarget.dataset.type;\r\n\t\t\tvar index = e.currentTarget.dataset.index;\r\n\t\t\tlet findex = e.currentTarget.dataset.findex ? e.currentTarget.dataset.findex : '';\r\n\t\t\tlet listtype = e.currentTarget.dataset.listtype;\r\n\t\t\tif (listtype == 'list') {\r\n\t\t\t\tif (type == 0) {\r\n\t\t\t\t\tthat.list[index].num = that.list[index].num + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (that.list[index].num > 1) {\r\n\t\t\t\t\t\tthat.list[index].num = that.list[index].num - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (listtype == 'mch') {\r\n\t\t\t\tif (type == 0) {\r\n\t\t\t\t\tthat.mch_list[findex].list[index].num = that.mch_list[findex].list[index].num + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (that.mch_list[findex].list[index].num > 1) {\r\n\t\t\t\t\t\tthat.mch_list[findex].list[index].num = that.mch_list[findex].list[index].num - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthat.comp(index, findex, listtype), that.calcTotal();\r\n\t\t},\r\n\t\t// 获取列表\r\n\t\tgetlist() {\r\n\t\t\tthat.nolist = false;\r\n\t\t\tthis.$request\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: that.api.cart.list\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthat.list = res.list;\r\n\t\t\t\t\tthat.mch_list = res.mch_list;\r\n\t\t\t\t\tif (res.list.length == 0 && res.mch_list.length == 0) {\r\n\t\t\t\t\t\tthat.nolist = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// for (let i in that.mch_list) {\r\n\t\t\t\t\t\t// \tfor (let t in that.mch_list[i].list) {\r\n\t\t\t\t\t\t// \t\t// that.mch_list[i][t]['checked']=false\r\n\t\t\t\t\t\t// \t\tconsole.log('啊送你到家咯圣诞卡：', that.mch_list[i].list[t]);\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// \tthat.$forceUpdate();\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 选择\r\n\t\tcartCheck(e) {\r\n\t\t\tvar index = e.currentTarget.dataset.index;\r\n\t\t\tlet type = e.currentTarget.dataset.type;\r\n\t\t\tconsole.log(type);\r\n\t\t\tif (type == 'list') {\r\n\t\t\t\tif (that.list[index]['checked']) {\r\n\t\t\t\t\tthat.list[index]['checked'] = false;\r\n\t\t\t\t\tthat.allprint = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.list[index]['checked'] = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tlet mchindex = e.currentTarget.dataset.mchindex;\r\n\t\t\t\tif (that.mch_list[mchindex].list[index]['checked']) {\r\n\t\t\t\t\tthat.mch_list[mchindex].list[index]['checked'] = false;\r\n\t\t\t\t\tthat.allprint = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.mch_list[mchindex].list[index]['checked'] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthat.calcTotal();\r\n\t\t},\r\n\t\t// 选择多商户列表\r\n\t\tmchcartCheck(e) {\r\n\t\t\tvar findex = e.currentTarget.dataset.findex;\r\n\t\t\tvar index = e.currentTarget.dataset.index;\r\n\t\t\tif (that.mch_list[findex].list[index]['checked']) {\r\n\t\t\t\tthat.mch_list[findex].list[index]['checked'] = false;\r\n\t\t\t\tthat.allprint = false;\r\n\t\t\t} else {\r\n\t\t\t\tthat.mch_list[findex].list[index]['checked'] = true;\r\n\t\t\t}\r\n\t\t\tthat.$forceUpdate();\r\n\t\t\tthat.calcTotal();\r\n\t\t},\r\n\t\t// 全选\r\n\t\tcartCheckAll(e) {\r\n\t\t\tvar list = that.list;\r\n\t\t\tif (that.allprint) {\r\n\t\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\t\tlist[i]['checked'] = false;\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i in that.mch_list) {\r\n\t\t\t\t\tfor (let t in that.mch_list[i].list) {\r\n\t\t\t\t\t\tthat.mch_list[i].list[t]['checked'] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.allprint = false;\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\t\tlist[i]['checked'] = true;\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i in that.mch_list) {\r\n\t\t\t\t\tfor (let t in that.mch_list[i].list) {\r\n\t\t\t\t\t\tthat.mch_list[i].list[t]['checked'] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.allprint = true;\r\n\t\t\t}\r\n\t\t\tthat.list = list;\r\n\t\t\tthat.calcTotal();\r\n\t\t},\r\n\t\t//计算总价\r\n\t\tcalcTotal() {\r\n\t\t\tvar list = that.list;\r\n\t\t\tvar zprice = 0;\r\n\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\tif (list[i]['checked']) {\r\n\t\t\t\t\tzprice = (Number(zprice) + Number(list[i].price)).toFixed(2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i in that.mch_list) {\r\n\t\t\t\tfor (let t in that.mch_list[i].list) {\r\n\t\t\t\t\tif (that.mch_list[i].list[t]['checked']) {\r\n\t\t\t\t\t\tzprice = (Number(zprice) + Number(that.mch_list[i].list[t].price)).toFixed(2);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthat.zprice = zprice;\r\n\t\t},\r\n\t\t// 计算单价\r\n\t\tcomp(index, findex, listtype) {\r\n\t\t\tif (listtype == 'list') {\r\n\t\t\t\tthat.list[index].price = (Number(that.list[index].unitPrice) * that.list[index].num).toFixed(2);\r\n\t\t\t} else if (listtype == 'mch') {\r\n\t\t\t\tthat.mch_list[findex].list[index].price = (Number(that.mch_list[findex].list[index].unitPrice) * that.mch_list[findex].list[index].num).toFixed(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tbuy() {\r\n\t\t\tvar list = that.list;\r\n\t\t\tvar edgoodslist = [];\r\n\t\t\tvar edmch = [];\r\n\t\t\tvar goodsidlist = [];\r\n\t\t\tvar mch_list = [];\r\n\t\t\tvar edmch_list = [];\r\n\t\t\tlet ptlist = {\r\n\t\t\t\tmch_id: 0,\r\n\t\t\t\tgoods_list: []\r\n\t\t\t};\r\n\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\tif (list[i]['checked']) {\r\n\t\t\t\t\tedgoodslist.push(list[i]);\r\n\t\t\t\t\tptlist.goods_list.push({\r\n\t\t\t\t\t\tcart_id: list[i].cart_id\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (ptlist.goods_list.length > 0) {\r\n\t\t\t\tmch_list.push(ptlist);\r\n\t\t\t}\r\n\t\t\tif (that.mch_list.length > 0) {\r\n\t\t\t\tfor (let i in that.mch_list) {\r\n\t\t\t\t\tlet mchlist = {\r\n\t\t\t\t\t\tmch_id: that.mch_list[i].id,\r\n\t\t\t\t\t\tgoods_list: []\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet delist = {\r\n\t\t\t\t\t\tid: that.mch_list[i].id,\r\n\t\t\t\t\t\tlist: [],\r\n\t\t\t\t\t\tname: that.mch_list[i].name\r\n\t\t\t\t\t};\r\n\t\t\t\t\tfor (let t in that.mch_list[i].list) {\r\n\t\t\t\t\t\tif (that.mch_list[i].list[t]['checked']) {\r\n\t\t\t\t\t\t\tdelist.list.push(that.mch_list[i].list[t]);\r\n\t\t\t\t\t\t\tmchlist.goods_list.push({\r\n\t\t\t\t\t\t\t\tcart_id: that.mch_list[i].list[t].cart_id\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mchlist.goods_list.length > 0) {\r\n\t\t\t\t\t\tmch_list.push(mchlist);\r\n\t\t\t\t\t\tedmch_list.push(delist);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (edgoodslist.length == 0 && edmch_list.length == 0) {\r\n\t\t\t\tthat.$alert('请选择商品！');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$request\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: that.api.cart.cart_edit,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlist: JSON.stringify(edgoodslist),\r\n\t\t\t\t\t\tmch_list: JSON.stringify(edmch_list)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'post'\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.$request\r\n\t\t\t\t\t\t.request({\r\n\t\t\t\t\t\t\turl: that.api.order.new_submit_preview,\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tmch_list: JSON.stringify(mch_list)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmethod: 'post'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\tuni.setStorageSync('order', res);\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/order/createOrder/createOrder'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tthat = this;\r\n\t},\r\n\tonShow() {\r\n\t\tthat.access_token = uni.getStorageSync('access_token');\r\n\t\tconsole.log(that.access_token);\r\n\t\tif (that.access_token) {\r\n\t\t\tthat.getlist();\r\n\t\t}\r\n\t\tif (that.allprint) {\r\n\t\t\tthat.cartCheckAll();\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.6.2.20190220\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1585703823923\n      var cssReload = require(\"D:/HBuilderX.1.6.2.20190220/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}